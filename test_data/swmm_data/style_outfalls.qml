<!DOCTYPE qgis PUBLIC 'http://mrcc.com/qgis.dtd' 'SYSTEM'>
<qgis hasScaleBasedVisibilityFlag="0" minScale="0" styleCategories="AllStyleCategories" simplifyDrawingHints="0" labelsEnabled="0" symbologyReferenceScale="-1" simplifyMaxScale="1" version="3.30.3-'s-Hertogenbosch" maxScale="0" readOnly="0" simplifyDrawingTol="1" simplifyAlgorithm="0" simplifyLocal="1">
  <flags>
    <Identifiable>1</Identifiable>
    <Removable>1</Removable>
    <Searchable>1</Searchable>
    <Private>0</Private>
  </flags>
  <temporal startField="" enabled="0" limitMode="0" startExpression="" fixedDuration="0" endExpression="" accumulate="0" mode="0" durationField="" durationUnit="min" endField="">
    <fixedRange>
      <start></start>
      <end></end>
    </fixedRange>
  </temporal>
  <elevation type="IndividualFeatures" zscale="1" extrusion="0" clamping="Terrain" symbology="Line" zoffset="0" binding="Centroid" showMarkerSymbolInSurfacePlots="0" extrusionEnabled="0" respectLayerSymbol="1">
    <data-defined-properties>
      <Option type="Map">
        <Option type="QString" name="name" value=""/>
        <Option name="properties"/>
        <Option type="QString" name="type" value="collection"/>
      </Option>
    </data-defined-properties>
    <profileLineSymbol>
      <symbol type="line" frame_rate="10" name="" alpha="1" clip_to_extent="1" force_rhr="0" is_animated="0">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer enabled="1" id="{8c9d0ecc-8a27-4c48-9540-4801b9014c94}" class="SimpleLine" locked="0" pass="0">
          <Option type="Map">
            <Option type="QString" name="align_dash_pattern" value="0"/>
            <Option type="QString" name="capstyle" value="square"/>
            <Option type="QString" name="customdash" value="5;2"/>
            <Option type="QString" name="customdash_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="customdash_unit" value="MM"/>
            <Option type="QString" name="dash_pattern_offset" value="0"/>
            <Option type="QString" name="dash_pattern_offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="dash_pattern_offset_unit" value="MM"/>
            <Option type="QString" name="draw_inside_polygon" value="0"/>
            <Option type="QString" name="joinstyle" value="bevel"/>
            <Option type="QString" name="line_color" value="243,166,178,255"/>
            <Option type="QString" name="line_style" value="solid"/>
            <Option type="QString" name="line_width" value="0.6"/>
            <Option type="QString" name="line_width_unit" value="MM"/>
            <Option type="QString" name="offset" value="0"/>
            <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="offset_unit" value="MM"/>
            <Option type="QString" name="ring_filter" value="0"/>
            <Option type="QString" name="trim_distance_end" value="0"/>
            <Option type="QString" name="trim_distance_end_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="trim_distance_end_unit" value="MM"/>
            <Option type="QString" name="trim_distance_start" value="0"/>
            <Option type="QString" name="trim_distance_start_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="trim_distance_start_unit" value="MM"/>
            <Option type="QString" name="tweak_dash_pattern_on_corners" value="0"/>
            <Option type="QString" name="use_custom_dash" value="0"/>
            <Option type="QString" name="width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" name="name" value=""/>
              <Option name="properties"/>
              <Option type="QString" name="type" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileLineSymbol>
    <profileFillSymbol>
      <symbol type="fill" frame_rate="10" name="" alpha="1" clip_to_extent="1" force_rhr="0" is_animated="0">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer enabled="1" id="{2c49af0c-c7c6-4cb0-a464-aef393f01467}" class="SimpleFill" locked="0" pass="0">
          <Option type="Map">
            <Option type="QString" name="border_width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="color" value="243,166,178,255"/>
            <Option type="QString" name="joinstyle" value="bevel"/>
            <Option type="QString" name="offset" value="0,0"/>
            <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="offset_unit" value="MM"/>
            <Option type="QString" name="outline_color" value="174,119,127,255"/>
            <Option type="QString" name="outline_style" value="solid"/>
            <Option type="QString" name="outline_width" value="0.2"/>
            <Option type="QString" name="outline_width_unit" value="MM"/>
            <Option type="QString" name="style" value="solid"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" name="name" value=""/>
              <Option name="properties"/>
              <Option type="QString" name="type" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileFillSymbol>
    <profileMarkerSymbol>
      <symbol type="marker" frame_rate="10" name="" alpha="1" clip_to_extent="1" force_rhr="0" is_animated="0">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer enabled="1" id="{ec18cc4e-4b0a-406e-8a00-f58d8647632a}" class="SimpleMarker" locked="0" pass="0">
          <Option type="Map">
            <Option type="QString" name="angle" value="0"/>
            <Option type="QString" name="cap_style" value="square"/>
            <Option type="QString" name="color" value="243,166,178,255"/>
            <Option type="QString" name="horizontal_anchor_point" value="1"/>
            <Option type="QString" name="joinstyle" value="bevel"/>
            <Option type="QString" name="name" value="diamond"/>
            <Option type="QString" name="offset" value="0,0"/>
            <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="offset_unit" value="MM"/>
            <Option type="QString" name="outline_color" value="174,119,127,255"/>
            <Option type="QString" name="outline_style" value="solid"/>
            <Option type="QString" name="outline_width" value="0.2"/>
            <Option type="QString" name="outline_width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="outline_width_unit" value="MM"/>
            <Option type="QString" name="scale_method" value="diameter"/>
            <Option type="QString" name="size" value="3"/>
            <Option type="QString" name="size_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="size_unit" value="MM"/>
            <Option type="QString" name="vertical_anchor_point" value="1"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" name="name" value=""/>
              <Option name="properties"/>
              <Option type="QString" name="type" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileMarkerSymbol>
  </elevation>
  <renderer-v2 type="singleSymbol" enableorderby="0" forceraster="0" symbollevels="0" referencescale="-1">
    <symbols>
      <symbol type="marker" frame_rate="10" name="0" alpha="1" clip_to_extent="1" force_rhr="0" is_animated="0">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer enabled="1" id="{5083b5d5-cefc-4560-8ea1-b6818690e1b2}" class="SimpleMarker" locked="0" pass="0">
          <Option type="Map">
            <Option type="QString" name="angle" value="180"/>
            <Option type="QString" name="cap_style" value="square"/>
            <Option type="QString" name="color" value="113,113,113,255"/>
            <Option type="QString" name="horizontal_anchor_point" value="1"/>
            <Option type="QString" name="joinstyle" value="bevel"/>
            <Option type="QString" name="name" value="triangle"/>
            <Option type="QString" name="offset" value="0,0.59999999999999998"/>
            <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="offset_unit" value="MM"/>
            <Option type="QString" name="outline_color" value="35,35,35,255"/>
            <Option type="QString" name="outline_style" value="no"/>
            <Option type="QString" name="outline_width" value="0"/>
            <Option type="QString" name="outline_width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="outline_width_unit" value="MM"/>
            <Option type="QString" name="scale_method" value="diameter"/>
            <Option type="QString" name="size" value="3.6"/>
            <Option type="QString" name="size_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="size_unit" value="MM"/>
            <Option type="QString" name="vertical_anchor_point" value="1"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" name="name" value=""/>
              <Option type="Map" name="properties">
                <Option type="Map" name="offset">
                  <Option type="bool" name="active" value="true"/>
                  <Option type="QString" name="expression" value="'0'|| ',' || tostring(0.166667*(if( @map_scale> 6000 ,max(4*6000/@map_scale,2),4)))"/>
                  <Option type="int" name="type" value="3"/>
                </Option>
                <Option type="Map" name="size">
                  <Option type="bool" name="active" value="true"/>
                  <Option type="QString" name="expression" value="if( @map_scale> 6000 ,max(4*6000/@map_scale,2),4)"/>
                  <Option type="int" name="type" value="3"/>
                </Option>
              </Option>
              <Option type="QString" name="type" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </symbols>
    <rotation/>
    <sizescale/>
  </renderer-v2>
  <customproperties>
    <Option type="Map">
      <Option type="int" name="embeddedWidgets/count" value="0"/>
      <Option name="variableNames"/>
      <Option name="variableValues"/>
    </Option>
  </customproperties>
  <blendMode>0</blendMode>
  <featureBlendMode>0</featureBlendMode>
  <layerOpacity>1</layerOpacity>
  <SingleCategoryDiagramRenderer attributeLegend="1" diagramType="Histogram">
    <DiagramCategory scaleDependency="Area" showAxis="1" sizeType="MM" lineSizeType="MM" spacingUnit="MM" lineSizeScale="3x:0,0,0,0,0,0" labelPlacementMethod="XHeight" rotationOffset="270" backgroundColor="#ffffff" backgroundAlpha="255" maxScaleDenominator="0" penWidth="0" minimumSize="0" width="15" sizeScale="3x:0,0,0,0,0,0" scaleBasedVisibility="0" spacing="5" spacingUnitScale="3x:0,0,0,0,0,0" enabled="0" direction="0" barWidth="5" penAlpha="255" diagramOrientation="Up" height="15" penColor="#000000" opacity="1" minScaleDenominator="0">
      <fontProperties description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
      <attribute color="#000000" label="" field="" colorOpacity="1"/>
      <axisSymbol>
        <symbol type="line" frame_rate="10" name="" alpha="1" clip_to_extent="1" force_rhr="0" is_animated="0">
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" name="name" value=""/>
              <Option name="properties"/>
              <Option type="QString" name="type" value="collection"/>
            </Option>
          </data_defined_properties>
          <layer enabled="1" id="{9b85d5a7-5162-47f1-b2c5-8c9ca179e419}" class="SimpleLine" locked="0" pass="0">
            <Option type="Map">
              <Option type="QString" name="align_dash_pattern" value="0"/>
              <Option type="QString" name="capstyle" value="square"/>
              <Option type="QString" name="customdash" value="5;2"/>
              <Option type="QString" name="customdash_map_unit_scale" value="3x:0,0,0,0,0,0"/>
              <Option type="QString" name="customdash_unit" value="MM"/>
              <Option type="QString" name="dash_pattern_offset" value="0"/>
              <Option type="QString" name="dash_pattern_offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
              <Option type="QString" name="dash_pattern_offset_unit" value="MM"/>
              <Option type="QString" name="draw_inside_polygon" value="0"/>
              <Option type="QString" name="joinstyle" value="bevel"/>
              <Option type="QString" name="line_color" value="35,35,35,255"/>
              <Option type="QString" name="line_style" value="solid"/>
              <Option type="QString" name="line_width" value="0.26"/>
              <Option type="QString" name="line_width_unit" value="MM"/>
              <Option type="QString" name="offset" value="0"/>
              <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
              <Option type="QString" name="offset_unit" value="MM"/>
              <Option type="QString" name="ring_filter" value="0"/>
              <Option type="QString" name="trim_distance_end" value="0"/>
              <Option type="QString" name="trim_distance_end_map_unit_scale" value="3x:0,0,0,0,0,0"/>
              <Option type="QString" name="trim_distance_end_unit" value="MM"/>
              <Option type="QString" name="trim_distance_start" value="0"/>
              <Option type="QString" name="trim_distance_start_map_unit_scale" value="3x:0,0,0,0,0,0"/>
              <Option type="QString" name="trim_distance_start_unit" value="MM"/>
              <Option type="QString" name="tweak_dash_pattern_on_corners" value="0"/>
              <Option type="QString" name="use_custom_dash" value="0"/>
              <Option type="QString" name="width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            </Option>
            <data_defined_properties>
              <Option type="Map">
                <Option type="QString" name="name" value=""/>
                <Option name="properties"/>
                <Option type="QString" name="type" value="collection"/>
              </Option>
            </data_defined_properties>
          </layer>
        </symbol>
      </axisSymbol>
    </DiagramCategory>
  </SingleCategoryDiagramRenderer>
  <DiagramLayerSettings placement="0" showAll="1" dist="0" priority="0" zIndex="0" obstacle="0" linePlacementFlags="18">
    <properties>
      <Option type="Map">
        <Option type="QString" name="name" value=""/>
        <Option name="properties"/>
        <Option type="QString" name="type" value="collection"/>
      </Option>
    </properties>
  </DiagramLayerSettings>
  <geometryOptions geometryPrecision="0" removeDuplicateNodes="0">
    <activeChecks/>
    <checkConfiguration/>
  </geometryOptions>
  <legend type="default-vector" showLabelLegend="0"/>
  <referencedLayers/>
  <fieldConfiguration>
    <field configurationFlags="None" name="fid">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" name="IsMultiline" value="false"/>
            <Option type="bool" name="UseHtml" value="false"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Name">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" name="IsMultiline" value="false"/>
            <Option type="bool" name="UseHtml" value="false"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Elevation">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" name="IsMultiline" value="false"/>
            <Option type="bool" name="UseHtml" value="false"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Type">
      <editWidget type="ValueMap">
        <config>
          <Option type="Map">
            <Option type="Map" name="map">
              <Option type="QString" name="FIXED" value="FIXED"/>
              <Option type="QString" name="FREE" value="FREE"/>
              <Option type="QString" name="NORMAL" value="NORMAL"/>
              <Option type="QString" name="TIDAL" value="TIDAL"/>
              <Option type="QString" name="TIMESERIES" value="TIMESERIES"/>
            </Option>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="FixedStage">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" name="IsMultiline" value="false"/>
            <Option type="bool" name="UseHtml" value="false"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Curve_TS">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" name="IsMultiline" value="false"/>
            <Option type="bool" name="UseHtml" value="false"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="FlapGate">
      <editWidget type="ValueMap">
        <config>
          <Option type="Map">
            <Option type="List" name="map">
              <Option type="Map">
                <Option type="QString" name="NO" value="NO"/>
              </Option>
              <Option type="Map">
                <Option type="QString" name="YES" value="YES"/>
              </Option>
            </Option>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="RouteTo">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" name="IsMultiline" value="false"/>
            <Option type="bool" name="UseHtml" value="false"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Annotation">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" name="IsMultiline" value="true"/>
            <Option type="bool" name="UseHtml" value="false"/>
          </Option>
        </config>
      </editWidget>
    </field>
  </fieldConfiguration>
  <aliases>
    <alias name="" field="fid" index="0"/>
    <alias name="" field="Name" index="1"/>
    <alias name="" field="Elevation" index="2"/>
    <alias name="" field="Type" index="3"/>
    <alias name="" field="FixedStage" index="4"/>
    <alias name="" field="Curve_TS" index="5"/>
    <alias name="" field="FlapGate" index="6"/>
    <alias name="" field="RouteTo" index="7"/>
    <alias name="" field="Annotation" index="8"/>
  </aliases>
  <splitPolicies>
    <policy policy="Duplicate" field="fid"/>
    <policy policy="Duplicate" field="Name"/>
    <policy policy="Duplicate" field="Elevation"/>
    <policy policy="Duplicate" field="Type"/>
    <policy policy="Duplicate" field="FixedStage"/>
    <policy policy="Duplicate" field="Curve_TS"/>
    <policy policy="Duplicate" field="FlapGate"/>
    <policy policy="Duplicate" field="RouteTo"/>
    <policy policy="Duplicate" field="Annotation"/>
  </splitPolicies>
  <defaults>
    <default field="fid" applyOnUpdate="0" expression=""/>
    <default field="Name" applyOnUpdate="0" expression=""/>
    <default field="Elevation" applyOnUpdate="0" expression=""/>
    <default field="Type" applyOnUpdate="0" expression=""/>
    <default field="FixedStage" applyOnUpdate="0" expression=""/>
    <default field="Curve_TS" applyOnUpdate="0" expression=""/>
    <default field="FlapGate" applyOnUpdate="0" expression=""/>
    <default field="RouteTo" applyOnUpdate="0" expression=""/>
    <default field="Annotation" applyOnUpdate="0" expression=""/>
  </defaults>
  <constraints>
    <constraint notnull_strength="1" field="fid" exp_strength="0" constraints="3" unique_strength="1"/>
    <constraint notnull_strength="1" field="Name" exp_strength="0" constraints="3" unique_strength="1"/>
    <constraint notnull_strength="0" field="Elevation" exp_strength="0" constraints="0" unique_strength="0"/>
    <constraint notnull_strength="0" field="Type" exp_strength="0" constraints="0" unique_strength="0"/>
    <constraint notnull_strength="0" field="FixedStage" exp_strength="0" constraints="0" unique_strength="0"/>
    <constraint notnull_strength="0" field="Curve_TS" exp_strength="0" constraints="0" unique_strength="0"/>
    <constraint notnull_strength="0" field="FlapGate" exp_strength="0" constraints="0" unique_strength="0"/>
    <constraint notnull_strength="0" field="RouteTo" exp_strength="0" constraints="0" unique_strength="0"/>
    <constraint notnull_strength="0" field="Annotation" exp_strength="0" constraints="0" unique_strength="0"/>
  </constraints>
  <constraintExpressions>
    <constraint exp="" field="fid" desc=""/>
    <constraint exp="" field="Name" desc=""/>
    <constraint exp="" field="Elevation" desc=""/>
    <constraint exp="" field="Type" desc=""/>
    <constraint exp="" field="FixedStage" desc=""/>
    <constraint exp="" field="Curve_TS" desc=""/>
    <constraint exp="" field="FlapGate" desc=""/>
    <constraint exp="" field="RouteTo" desc=""/>
    <constraint exp="" field="Annotation" desc=""/>
  </constraintExpressions>
  <expressionfields/>
  <attributeactions>
    <defaultAction value="{00000000-0000-0000-0000-000000000000}" key="Canvas"/>
    <actionsetting type="1" name="get_report" id="{180b37dc-f40e-4956-aeff-e5e2f52a47cd}" action="from PyQt5.QtWidgets import (&#xd;&#xa;    QCheckBox,&#xd;&#xa;    QDialog,&#xd;&#xa;    QDialogButtonBox,&#xd;&#xa;    QVBoxLayout,&#xd;&#xa;    QLabel,&#xd;&#xa;    QComboBox&#xd;&#xa;)&#xd;&#xa;from qgis.core import (&#xd;&#xa;    QgsProject,&#xd;&#xa;    QgsFeature,&#xd;&#xa;    NULL&#xd;&#xa;)&#xd;&#xa;from qgis.PyQt import QtWidgets&#xd;&#xa;from qgis.gui import QgsFileWidget&#xd;&#xa;import pandas as pd&#xd;&#xa;import numpy as np&#xd;&#xa;import os&#xd;&#xa;&#xd;&#xa;swmm_layer = QgsProject.instance().mapLayer('[% @layer_id %]')&#xd;&#xa;layer_geom = swmm_layer.geometryType()&#xd;&#xa;swmm_geom_types = {&#xd;&#xa;    0: 'NODES',&#xd;&#xa;    1: 'LINKS',&#xd;&#xa;    2: 'SUBCATCHMENTS'&#xd;&#xa;    &#xd;&#xa;}&#xd;&#xa;swmm_type = swmm_geom_types[layer_geom]&#xd;&#xa;select_dict = {&#xd;&#xa;    'NODES': {&#xd;&#xa;        'JUNCIONS':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding'&#xd;&#xa;        ],&#xd;&#xa;        'OUTFALLS':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding',&#xd;&#xa;            'outfall_loading'&#xd;&#xa;        ],&#xd;&#xa;        'DIVIDERS':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding'&#xd;&#xa;        ],&#xd;&#xa;        'STORAGE':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding',&#xd;&#xa;            'storage_volume'&#xd;&#xa;        ]&#xd;&#xa;    },&#xd;&#xa;    'LINKS': {&#xd;&#xa;        'CONDUITS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'flow_classification',&#xd;&#xa;            'conduit_surcharge',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;        'PUMPS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'link_pollutant_load',&#xd;&#xa;            'pumping_summary'&#xd;&#xa;        ],&#xd;&#xa;        'ORIFICES':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'flow_classification',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;        'WEIRS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;        'OUTLETS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;    },&#xd;&#xa;    'SUBCATCHMENTS':[&#xd;&#xa;        'subcatchment_runoff',&#xd;&#xa;        'subcatchment_washoff'&#xd;&#xa;    ]&#xd;&#xa;}&#xd;&#xa;dict_report_line_sects = {&#xd;&#xa;    'subcatchment_runoff': 'Subcatchment Runoff Summary',&#xd;&#xa;    'subcatchment_washoff': 'Subcatchment Washoff Summary',&#xd;&#xa;    'subcatchment_lid_performance': None,&#xd;&#xa;    'subcatchment_groundwater': None,&#xd;&#xa;    'node_depth': 'Node Depth Summary',&#xd;&#xa;    'node_inflow': 'Node Inflow Summary',&#xd;&#xa;    'node_surcharge': 'Node Surcharge Summary',&#xd;&#xa;    'node_flooding': 'Node Flooding Summary',&#xd;&#xa;    'storage_volume': 'Storage Volume Summary',&#xd;&#xa;    'outfall_loading': 'Outfall Loading Summary',&#xd;&#xa;    'street_flow': 'Street Flow Summary',&#xd;&#xa;    'link_flow': 'Link Flow Summary',&#xd;&#xa;    'flow_classification': 'Flow Classification Summary',&#xd;&#xa;    'conduit_surcharge': 'Conduit Surcharge Summary',&#xd;&#xa;    'pumping_summary': 'Pumping Summary',&#xd;&#xa;    'link_pollutant_load': 'Link Pollutant Load Summary',&#xd;&#xa;}&#xd;&#xa;&#xd;&#xa;def get_header_val(header_lines, h_line, start, length):&#xd;&#xa;    dist_whitespace = 2  # left whitespace in rpt file&#xd;&#xa;    python_adjustment = 1  # in order to have the same vals as in Fresults.pas&#xd;&#xa;    dist_whitespace = dist_whitespace + python_adjustment&#xd;&#xa;    unit_line = header_lines[h_line]&#xd;&#xa;    start = start - dist_whitespace&#xd;&#xa;    end = start + length&#xd;&#xa;    return unit_line[start:end]&#xd;&#xa;    &#xd;&#xa;def get_dict_report_cols(topic, header_lines):&#xd;&#xa;    if topic == 'subcatchment_runoff':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 32, 2)&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 104, 9)&#xd;&#xa;        units_3 = get_header_val(header_lines, 2, 118, 4)&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'TotalPrecipitation'+'_'+units_1,&#xd;&#xa;            'TotalRunon'+'_'+units_1,&#xd;&#xa;            'TotalEvaporation'+'_'+units_1,&#xd;&#xa;            'TotalInfiltration'+'_'+units_1,&#xd;&#xa;            'ImperviousRunoff'+'_'+units_1,&#xd;&#xa;            'PerviousRunoff'+'_'+units_1,&#xd;&#xa;            'TotalRunoff1'+'_'+units_1,&#xd;&#xa;            'TotalRunoff2'+'_'+units_2,&#xd;&#xa;            'PeakRunoff'+'_'+units_3,&#xd;&#xa;            'RunoffCoeffient'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'subcatchment_washoff':&#xd;&#xa;        pol_names = header_lines[0].split()&#xd;&#xa;        pol_units = header_lines[1].split()[1:]&#xd;&#xa;        col_pol = [n+'_'+u for n, u in zip(pol_names, pol_units)]&#xd;&#xa;        cols = ['Name'] + col_pol&#xd;&#xa;    if topic == 'node_depth':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 35, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'AverageDepth'+'_'+units_1,&#xd;&#xa;            'MaximumDepth'+'_'+units_1,&#xd;&#xa;            'MaximumHGL'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'MaxReportedDepth'+'_'+units_1&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'node_inflow':&#xd;&#xa;        units_1 = get_header_val(header_lines, 3, 38, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 3, 68, 8).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'MaximumLateralInflow'+'_'+units_1,&#xd;&#xa;            'MaximumTotalInflow'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'LateralInflowVolume'+'_'+units_2,&#xd;&#xa;            'TotalInflowVolume'+'_'+units_2,&#xd;&#xa;            'FlowBalanceError_Pcnt',&#xd;&#xa;            'flag'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'node_surcharge':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 53, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'Surcharged_Hours',&#xd;&#xa;            'MaxHeightAboveCrown'+'_'+units_1,&#xd;&#xa;            'MinDepthBelowRim'+'_'+units_1&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'node_flooding':&#xd;&#xa;        units_1 = get_header_val(header_lines, 3, 38, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 3, 59, 9).strip()&#xd;&#xa;        units_3 = get_header_val(header_lines, 3, 69, 9).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Flooded_Hours',&#xd;&#xa;            'MaximumRate'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'TotalFloodVolume'+'_'+units_2,&#xd;&#xa;            'MaximumPondedDepth'+'_'+units_3&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'storage_volume':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 25, 9).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 93, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'AverageVolume'+'_'+units_1,&#xd;&#xa;            'AvgFull_Pcnt',&#xd;&#xa;            'EvapLoss_Pcnt',&#xd;&#xa;            'ExfilLoss_Pcnt',&#xd;&#xa;            'MaximumVolume'+'_'+units_1,&#xd;&#xa;            'MaxFull_Pcnt',&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'MaximumOutflow'+'_'+units_2&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'outfall_loading':&#xd;&#xa;        head_tokens = header_lines[1].split()&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 36, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 54, 9).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'FlowFreq_Pcnt',&#xd;&#xa;            'AvgFlow'+'_'+units_1,&#xd;&#xa;            'MaxFlow'+'_'+units_1,&#xd;&#xa;            'TotalVolume'+'_'+units_2&#xd;&#xa;        ]&#xd;&#xa;        if len(head_tokens) > 4:&#xd;&#xa;            header_unit_line = header_lines[2][60:]&#xd;&#xa;            header_unit_line = header_unit_line.strip()&#xd;&#xa;            pol_names = head_tokens[4:]&#xd;&#xa;            pol_units = header_unit_line.split()&#xd;&#xa;            col_pol = ['Total'+n+'_'+u for n, u in zip(pol_names, pol_units)]&#xd;&#xa;            cols = cols + col_pol&#xd;&#xa;    if topic == 'street_flow':&#xd;&#xa;        units_1 = get_header_val(header_lines, 3, 25, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 3, 37, 2).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'PeakFlow'+'_'+units_1,&#xd;&#xa;            'MaximumSpread'+'_'+units_2,&#xd;&#xa;            'MaximumDepth'+'_'+units_2,&#xd;&#xa;            'InletDesing',&#xd;&#xa;            'InletLocation',&#xd;&#xa;            'Inlet',&#xd;&#xa;            'PeakFlowCapture_Pcnt',&#xd;&#xa;            'AverageFlowCapture_Pcnt',&#xd;&#xa;            'BypassFlowFrequnecy_Pcnt',&#xd;&#xa;            'BackFlowFrequnecy_Pcnt',&#xd;&#xa;            'PeakCaptureInlet'+'_'+units_1,&#xd;&#xa;            'PeakBypassFlow'+'_'+units_1,&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'link_flow':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 38, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 58, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'MaximumFlow'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'MaximumVeloc'+'_'+units_2,&#xd;&#xa;            'MaxFullFlow',&#xd;&#xa;            'MaxFullDepth'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'flow_classification': &#xd;&#xa;        cols = [&#xd;&#xa;            'Conduit',&#xd;&#xa;            'AdjustedActualLength',&#xd;&#xa;            'FractionOfTimeDry',&#xd;&#xa;            'FractionOfTimeUpDry',&#xd;&#xa;            'FractionOfTimeDownDry',&#xd;&#xa;            'FractionOfTimeSubCrit',&#xd;&#xa;            'FractionOfTimeSupCrit',&#xd;&#xa;            'FractionOfTimeUpCrit',&#xd;&#xa;            'FractionOfTimeDownCrit',&#xd;&#xa;            'FractionOfTimeNormLtd',&#xd;&#xa;            'FractionOfTimeInletCtrl'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'conduit_surcharge': &#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'FullBothEnds_Hours',&#xd;&#xa;            'FullUpstream_Hours',&#xd;&#xa;            'FullDownstream_Hours',&#xd;&#xa;            'AboveFullNormalFlow_Hours',&#xd;&#xa;            'CapacityLimited_Hours',&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'pumping_summary':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 51, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 76, 9).strip()&#xd;&#xa;        units_3 = get_header_val(header_lines, 2, 89, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Utilized_Pcnt',&#xd;&#xa;            'NumberOfStartups',&#xd;&#xa;            'MinFlow'+'_'+units_1,&#xd;&#xa;            'AverageFlow'+'_'+units_1,&#xd;&#xa;            'MaxFlow'+'_'+units_1,&#xd;&#xa;            'TotalVolume'+'_'+units_2,&#xd;&#xa;            'PowerUsage'+'_'+units_3,&#xd;&#xa;            'TimeBelowPumpCurve_Pcnt',&#xd;&#xa;            'TimeAbovePumpCurve_Pcnt'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'link_pollutant_load': &#xd;&#xa;        pol_names = header_lines[0].split()&#xd;&#xa;        pol_units = header_lines[1].split()[1:]&#xd;&#xa;        col_pol = [n+'_'+u for n, u in zip(pol_names, pol_units)]&#xd;&#xa;        cols = ['Name'] + col_pol&#xd;&#xa;    return cols&#xd;&#xa;&#xd;&#xa;def build_df_from_vals_list(section_vals, col_names):&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    builds a dataframe for a section; &#xd;&#xa;    missing vals at the end are set as np.nan&#xd;&#xa;    :param list section_vals&#xd;&#xa;    :param list col_names&#xd;&#xa;    :return: pd.DataFrame&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    df = pd.DataFrame(section_vals)&#xd;&#xa;    col_len = len(df.columns)&#xd;&#xa;    if col_names is None:&#xd;&#xa;        pass&#xd;&#xa;    else:&#xd;&#xa;        df.columns = col_names[0:col_len]&#xd;&#xa;        if len(col_names) > col_len:  # if missing vals in inp-data&#xd;&#xa;            for i in col_names[col_len:]:&#xd;&#xa;                df[i] = np.nan&#xd;&#xa;    return df&#xd;&#xa;    &#xd;&#xa;def find_rpt_section_position(i, rpt_line, rpt_text):&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    finds report sections in a list of text lines&#xd;&#xa;    :param int i: index of the current text line&#xd;&#xa;    :param str rpt_line: current text line&#xd;&#xa;    :param list rpt_text&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    line_list = rpt_line.split()&#xd;&#xa;    if i &lt;= (len(rpt_text)-2):&#xd;&#xa;        if line_list[0].startswith('**') and line_list[0].endswith('**'):&#xd;&#xa;            line_list_2 = rpt_text[i+2].split()&#xd;&#xa;            if line_list_2[0].startswith('**') and line_list_2[0].endswith('**'):&#xd;&#xa;                return (i+1)&#xd;&#xa;            else:&#xd;&#xa;                return 'NA'&#xd;&#xa;        else:&#xd;&#xa;            return 'NA'&#xd;&#xa;    else:&#xd;&#xa;        return 'NA'&#xd;&#xa;&#xd;&#xa;def get_rpt_df(topic, readfile):&#xd;&#xa;    rpt_section_title = dict_report_line_sects[topic]&#xd;&#xa;    rpt_text = get_rpt_txt(readfile)&#xd;&#xa;    if rpt_section_title in rpt_text:&#xd;&#xa;        startpos = rpt_text.index(rpt_section_title)&#xd;&#xa;        rpt_text_trimmed = rpt_text[startpos:]&#xd;&#xa;        separation_lines_0 = [i for i, l in enumerate(rpt_text_trimmed) if l.startswith('**') and l.endswith('**')]&#xd;&#xa;        if len(separation_lines_0) != 1:&#xd;&#xa;            #last item&#xd;&#xa;            endpos = separation_lines_0[1]&#xd;&#xa;            sect_lines = rpt_text_trimmed[:endpos]&#xd;&#xa;        else:&#xd;&#xa;            sect_lines = rpt_text_trimmed&#xd;&#xa;        separation_lines = [i for i, l in enumerate(sect_lines) if l.startswith('--') and l.endswith('--')]&#xd;&#xa;        if len(separation_lines) == 2:&#xd;&#xa;            # without Summary&#xd;&#xa;            separation_lines = separation_lines+[len(sect_lines)]&#xd;&#xa;        sect_lines_vals = sect_lines[(separation_lines[1]+1):separation_lines[2]]&#xd;&#xa;        sect_lines_vals = [x.split() for x in sect_lines_vals]&#xd;&#xa;        header_lines = sect_lines[(separation_lines[0]+1):separation_lines[1]]&#xd;&#xa;        col_names = get_dict_report_cols(topic, header_lines)&#xd;&#xa;        df = build_df_from_vals_list(&#xd;&#xa;            sect_lines_vals,&#xd;&#xa;            col_names&#xd;&#xa;        )&#xd;&#xa;        return df&#xd;&#xa;    else:&#xd;&#xa;        print('not available')&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;def get_rpt_txt(readfile):&#xd;&#xa;    encodings = ['utf-8', 'windows-1250', 'windows-1252']  # add more&#xd;&#xa;    for e in encodings:&#xd;&#xa;        try:&#xd;&#xa;            with open(readfile, 'r', encoding=e) as f:&#xd;&#xa;                rpt_text = f.readlines()&#xd;&#xa;        except UnicodeDecodeError:&#xd;&#xa;            pass&#xd;&#xa;            #print('got unicode error with %s , trying different encoding' % e)&#xd;&#xa;        else:&#xd;&#xa;            #print('opening the file with encoding:  %s ' % e)&#xd;&#xa;            break&#xd;&#xa;    rpt_text = [x for x in rpt_text if x != '\n']&#xd;&#xa;    rpt_text = [x for x in rpt_text if x != '\r']&#xd;&#xa;    rpt_text = [x.strip() for x in rpt_text]&#xd;&#xa;    rpt_text = [x for x in rpt_text if len(x)>0]&#xd;&#xa;    rpt_text = rpt_text[:-3] #delete last three lines&#xd;&#xa;    return rpt_text&#xd;&#xa;&#xd;&#xa;# main dialog&#xd;&#xa;class joinSwmmReportDialog(QDialog):&#xd;&#xa;    def __init__(self, parent=None):&#xd;&#xa;        &quot;&quot;&quot;Constructor.&quot;&quot;&quot;&#xd;&#xa;        super(joinSwmmReportDialog, self).__init__(parent)&#xd;&#xa;        # Drop-down-Listen und Labels&#xd;&#xa;        QDialog.__init__(self, parent)&#xd;&#xa;        self.layout = QVBoxLayout()&#xd;&#xa;        self.setWindowTitle('Get results from SWMM report file')&#xd;&#xa;&#xd;&#xa;        # swmm rpt file&#xd;&#xa;        self.label_SwmmRptFile = QLabel('SWMM report File')&#xd;&#xa;        self.swmmRptFile = QgsFileWidget() #rpt&#xd;&#xa;        self.swmmRptFile.setFilter('SWMM report files (*.rpt)')&#xd;&#xa;        self.layout.addWidget(self.label_SwmmRptFile)&#xd;&#xa;        self.layout.addWidget(self.swmmRptFile)&#xd;&#xa;        &#xd;&#xa;        if swmm_type in ['NODES','LINKS']:&#xd;&#xa;            #swmm obj type&#xd;&#xa;            self.label_swmmobj_selBox = QLabel('SWMM layer type')&#xd;&#xa;            self.swmmobj_selBox = QComboBox()&#xd;&#xa;            self.swmmobj_list = list(select_dict[swmm_type].keys())&#xd;&#xa;            self.swmmobj_selBox.addItems(self.swmmobj_list)&#xd;&#xa;            self.swmmobj_selBox.setCurrentIndex(0)&#xd;&#xa;            self.swmm_obj = self.swmmobj_selBox.currentText()&#xd;&#xa;            self.swmmobj_selBox.currentIndexChanged.connect(self.update_topic_box)&#xd;&#xa;            self.layout.addWidget(self.label_swmmobj_selBox)&#xd;&#xa;            self.layout.addWidget(self.swmmobj_selBox)&#xd;&#xa;&#xd;&#xa;            &#xd;&#xa;            self.label_topic_selBox = QLabel('SWMM report topic')&#xd;&#xa;            self.topic_selBox = QComboBox()&#xd;&#xa;            self.topic_list = list(select_dict[swmm_type][self.swmm_obj])&#xd;&#xa;            self.topic_selBox.addItems(self.topic_list)&#xd;&#xa;            self.topic_selBox.setCurrentIndex(0)&#xd;&#xa;            self.layout.addWidget(self.label_topic_selBox)&#xd;&#xa;            self.layout.addWidget(self.topic_selBox)&#xd;&#xa;        elif swmm_type == 'SUBCATCHMENTS':&#xd;&#xa;            self.label_topic_selBox = QLabel('SWMM report topic')&#xd;&#xa;            self.topic_selBox = QComboBox()&#xd;&#xa;            self.topic_list = list(select_dict[swmm_type])&#xd;&#xa;            self.topic_selBox.addItems(self.topic_list)&#xd;&#xa;            self.topic_selBox.setCurrentIndex(0)&#xd;&#xa;            self.layout.addWidget(self.label_topic_selBox)&#xd;&#xa;            self.layout.addWidget(self.topic_selBox)&#xd;&#xa;&#xd;&#xa;        # output csv&#xd;&#xa;        self.label_CsvFile = QLabel('Resulting CSV file')&#xd;&#xa;        self.CsvFile = QgsFileWidget()&#xd;&#xa;        self.CsvFile.setFilter('CSV files (*.csv)')&#xd;&#xa;        self.CsvFile.setStorageMode(3)&#xd;&#xa;        self.layout.addWidget(self.label_CsvFile)&#xd;&#xa;        self.layout.addWidget(self.CsvFile)&#xd;&#xa;        &#xd;&#xa;        # checkbox&#xd;&#xa;        self.add_checkbox = QCheckBox('add resulting CSV file to Project')&#xd;&#xa;        self.add_checkbox.setChecked(True)&#xd;&#xa;        self.layout.addWidget(self.add_checkbox)&#xd;&#xa;&#xd;&#xa;        # OK/Cancel-Buttons&#xd;&#xa;        btn = QDialogButtonBox.Ok | QDialogButtonBox.Cancel&#xd;&#xa;        self.buttonBox = QDialogButtonBox(btn)&#xd;&#xa;        self.buttonBox.accepted.connect(self.join_report_vals)&#xd;&#xa;        self.buttonBox.rejected.connect(self.close)&#xd;&#xa;        self.buttonBox.clicked.connect(self.close)&#xd;&#xa;        self.layout.addWidget(self.buttonBox)&#xd;&#xa;        self.setLayout(self.layout)&#xd;&#xa;&#xd;&#xa;    def update_topic_box(self):&#xd;&#xa;        self.topic_selBox.clear()&#xd;&#xa;        self.swmm_obj = self.swmmobj_selBox.currentText()&#xd;&#xa;        self.topic_list_neu = list(select_dict[swmm_type][self.swmm_obj])&#xd;&#xa;        self.topic_selBox.addItems(self.topic_list_neu)&#xd;&#xa;        self.topic_selBox.setCurrentIndex(0)&#xd;&#xa;    &#xd;&#xa;    def join_report_vals(self):&#xd;&#xa;        self.topic = self.topic_selBox.currentText()&#xd;&#xa;        readfile = self.swmmRptFile.filePath()&#xd;&#xa;        csvpath = self.CsvFile.filePath()&#xd;&#xa;        if readfile=='':&#xd;&#xa;            QtWidgets.QMessageBox.information(None,&quot;Warning&quot;, 'SWMM report file can`t be empty. Please select a file')&#xd;&#xa;            w.show()&#xd;&#xa;        elif csvpath=='':&#xd;&#xa;            QtWidgets.QMessageBox.information(None,&quot;Warning&quot;, 'Resulting CSV file can`t be empty. Please choose a file name (or select an existing file to overwrite it)')&#xd;&#xa;            w.show()&#xd;&#xa;        else:&#xd;&#xa;            self.df = get_rpt_df(self.topic, readfile)&#xd;&#xa;            self.df.to_csv(csvpath, index=False)&#xd;&#xa;            self.add_to_project = self.add_checkbox.isChecked()&#xd;&#xa;            if self.add_to_project:&#xd;&#xa;                showname = self.topic+' ('+os.path.split(csvpath)[1]+')'&#xd;&#xa;                csv_layer = QgsVectorLayer(csvpath, showname , 'ogr')&#xd;&#xa;                QgsProject.instance().addMapLayer(csv_layer) &#xd;&#xa;            QtWidgets.QMessageBox.information(None,&quot;Info&quot;, 'Report data was saved in '+ csvpath)&#xd;&#xa;&#xd;&#xa;w = joinSwmmReportDialog()&#xd;&#xa;w.show()" icon="" shortTitle="Get results from report file" notificationMessage="" isEnabledOnlyWhenEditable="0" capture="0">
      <actionScope id="Form"/>
      <actionScope id="Canvas"/>
      <actionScope id="Layer"/>
    </actionsetting>
  </attributeactions>
  <attributetableconfig actionWidgetStyle="dropDown" sortOrder="0" sortExpression="">
    <columns>
      <column width="-1" type="field" hidden="0" name="fid"/>
      <column width="-1" type="field" hidden="0" name="Name"/>
      <column width="-1" type="field" hidden="0" name="Elevation"/>
      <column width="-1" type="field" hidden="0" name="Type"/>
      <column width="-1" type="field" hidden="0" name="FixedStage"/>
      <column width="-1" type="field" hidden="0" name="Curve_TS"/>
      <column width="-1" type="field" hidden="0" name="FlapGate"/>
      <column width="-1" type="field" hidden="0" name="RouteTo"/>
      <column width="-1" type="field" hidden="0" name="Annotation"/>
      <column width="-1" type="actions" hidden="1"/>
    </columns>
  </attributetableconfig>
  <conditionalstyles>
    <rowstyles/>
    <fieldstyles/>
  </conditionalstyles>
  <storedexpressions/>
  <editform tolerant="1"></editform>
  <editforminit/>
  <editforminitcodesource>0</editforminitcodesource>
  <editforminitfilepath></editforminitfilepath>
  <editforminitcode><![CDATA[# -*- coding: utf-8 -*-
"""
QGIS forms can have a Python function that is called when the form is
opened.

Use this function to add extra logic to your forms.

Enter the name of the function in the "Python Init function"
field.
An example follows:
"""
from qgis.PyQt.QtWidgets import QWidget

def my_form_open(dialog, layer, feature):
	geom = feature.geometry()
	control = dialog.findChild(QWidget, "MyLineEdit")
]]></editforminitcode>
  <featformsuppress>0</featformsuppress>
  <editorlayout>tablayout</editorlayout>
  <attributeEditorForm>
    <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
      <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
    </labelStyle>
    <attributeEditorContainer visibilityExpressionEnabled="0" visibilityExpression="" name="General" groupBox="0" columnCount="1" collapsed="0" collapsedExpression="" showLabel="1" collapsedExpressionEnabled="0">
      <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
        <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
      </labelStyle>
      <attributeEditorField name="Name" showLabel="1" index="1">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField name="Elevation" showLabel="1" index="2">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField name="FlapGate" showLabel="1" index="6">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField name="RouteTo" showLabel="1" index="7">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField name="Type" showLabel="1" index="3">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorContainer visibilityExpressionEnabled="1" visibilityExpression=" &quot;Type&quot; in ('TIDAL','TIMESERIES')" name="Tidal or Timeseries" groupBox="1" columnCount="1" collapsed="0" collapsedExpression="" showLabel="0" collapsedExpressionEnabled="0">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
        <attributeEditorField name="Curve_TS" showLabel="1" index="5">
          <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
            <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
          </labelStyle>
        </attributeEditorField>
      </attributeEditorContainer>
      <attributeEditorContainer visibilityExpressionEnabled="1" visibilityExpression=" &quot;Type&quot; = 'FIXED'" name="Fixed" groupBox="1" columnCount="1" collapsed="0" collapsedExpression="" showLabel="0" collapsedExpressionEnabled="0">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
        <attributeEditorField name="FixedStage" showLabel="1" index="4">
          <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
            <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
          </labelStyle>
        </attributeEditorField>
      </attributeEditorContainer>
      <attributeEditorField name="Annotation" showLabel="1" index="8">
        <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
          <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
        </labelStyle>
      </attributeEditorField>
    </attributeEditorContainer>
    <attributeEditorAction ActionUUID="{180b37dc-f40e-4956-aeff-e5e2f52a47cd}" name="{180b37dc-f40e-4956-aeff-e5e2f52a47cd}" showLabel="1">
      <labelStyle overrideLabelFont="0" overrideLabelColor="0" labelColor="0,0,0,255">
        <labelFont description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" underline="0" strikethrough="0" italic="0" style="" bold="0"/>
      </labelStyle>
    </attributeEditorAction>
  </attributeEditorForm>
  <editable>
    <field editable="1" name="Annotation"/>
    <field editable="1" name="Curve_TS"/>
    <field editable="1" name="Elevation"/>
    <field editable="1" name="FixedStage"/>
    <field editable="1" name="FlapGate"/>
    <field editable="1" name="Name"/>
    <field editable="1" name="RouteTo"/>
    <field editable="1" name="Type"/>
    <field editable="1" name="fid"/>
  </editable>
  <labelOnTop>
    <field labelOnTop="0" name="Annotation"/>
    <field labelOnTop="0" name="Curve_TS"/>
    <field labelOnTop="0" name="Elevation"/>
    <field labelOnTop="0" name="FixedStage"/>
    <field labelOnTop="0" name="FlapGate"/>
    <field labelOnTop="0" name="Name"/>
    <field labelOnTop="0" name="RouteTo"/>
    <field labelOnTop="0" name="Type"/>
    <field labelOnTop="0" name="fid"/>
  </labelOnTop>
  <reuseLastValue>
    <field name="Annotation" reuseLastValue="0"/>
    <field name="Curve_TS" reuseLastValue="0"/>
    <field name="Elevation" reuseLastValue="0"/>
    <field name="FixedStage" reuseLastValue="0"/>
    <field name="FlapGate" reuseLastValue="0"/>
    <field name="Name" reuseLastValue="0"/>
    <field name="RouteTo" reuseLastValue="0"/>
    <field name="Type" reuseLastValue="0"/>
    <field name="fid" reuseLastValue="0"/>
  </reuseLastValue>
  <dataDefinedFieldProperties/>
  <widgets/>
  <previewExpression>"Name"</previewExpression>
  <mapTip></mapTip>
  <layerGeometryType>0</layerGeometryType>
</qgis>
