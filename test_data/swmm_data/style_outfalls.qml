<!DOCTYPE qgis PUBLIC 'http://mrcc.com/qgis.dtd' 'SYSTEM'>
<qgis symbologyReferenceScale="-1" hasScaleBasedVisibilityFlag="0" simplifyLocal="1" version="3.32.0-Lima" simplifyAlgorithm="0" styleCategories="AllStyleCategories" labelsEnabled="0" minScale="0" readOnly="0" simplifyDrawingTol="1" simplifyMaxScale="1" simplifyDrawingHints="0" maxScale="0">
  <flags>
    <Identifiable>1</Identifiable>
    <Removable>1</Removable>
    <Searchable>1</Searchable>
    <Private>0</Private>
  </flags>
  <temporal startExpression="" fixedDuration="0" startField="" endExpression="" limitMode="0" enabled="0" endField="" durationUnit="min" accumulate="0" durationField="" mode="0">
    <fixedRange>
      <start></start>
      <end></end>
    </fixedRange>
  </temporal>
  <elevation zoffset="0" extrusion="0" extrusionEnabled="0" binding="Centroid" type="IndividualFeatures" showMarkerSymbolInSurfacePlots="0" clamping="Terrain" respectLayerSymbol="1" zscale="1" symbology="Line">
    <data-defined-properties>
      <Option type="Map">
        <Option type="QString" value="" name="name"/>
        <Option name="properties"/>
        <Option type="QString" value="collection" name="type"/>
      </Option>
    </data-defined-properties>
    <profileLineSymbol>
      <symbol type="line" clip_to_extent="1" alpha="1" is_animated="0" force_rhr="0" name="" frame_rate="10">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" value="" name="name"/>
            <Option name="properties"/>
            <Option type="QString" value="collection" name="type"/>
          </Option>
        </data_defined_properties>
        <layer locked="0" pass="0" class="SimpleLine" enabled="1" id="{8c9d0ecc-8a27-4c48-9540-4801b9014c94}">
          <Option type="Map">
            <Option type="QString" value="0" name="align_dash_pattern"/>
            <Option type="QString" value="square" name="capstyle"/>
            <Option type="QString" value="5;2" name="customdash"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="customdash_map_unit_scale"/>
            <Option type="QString" value="MM" name="customdash_unit"/>
            <Option type="QString" value="0" name="dash_pattern_offset"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="dash_pattern_offset_map_unit_scale"/>
            <Option type="QString" value="MM" name="dash_pattern_offset_unit"/>
            <Option type="QString" value="0" name="draw_inside_polygon"/>
            <Option type="QString" value="bevel" name="joinstyle"/>
            <Option type="QString" value="243,166,178,255" name="line_color"/>
            <Option type="QString" value="solid" name="line_style"/>
            <Option type="QString" value="0.6" name="line_width"/>
            <Option type="QString" value="MM" name="line_width_unit"/>
            <Option type="QString" value="0" name="offset"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="offset_map_unit_scale"/>
            <Option type="QString" value="MM" name="offset_unit"/>
            <Option type="QString" value="0" name="ring_filter"/>
            <Option type="QString" value="0" name="trim_distance_end"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="trim_distance_end_map_unit_scale"/>
            <Option type="QString" value="MM" name="trim_distance_end_unit"/>
            <Option type="QString" value="0" name="trim_distance_start"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="trim_distance_start_map_unit_scale"/>
            <Option type="QString" value="MM" name="trim_distance_start_unit"/>
            <Option type="QString" value="0" name="tweak_dash_pattern_on_corners"/>
            <Option type="QString" value="0" name="use_custom_dash"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="width_map_unit_scale"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" value="" name="name"/>
              <Option name="properties"/>
              <Option type="QString" value="collection" name="type"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileLineSymbol>
    <profileFillSymbol>
      <symbol type="fill" clip_to_extent="1" alpha="1" is_animated="0" force_rhr="0" name="" frame_rate="10">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" value="" name="name"/>
            <Option name="properties"/>
            <Option type="QString" value="collection" name="type"/>
          </Option>
        </data_defined_properties>
        <layer locked="0" pass="0" class="SimpleFill" enabled="1" id="{2c49af0c-c7c6-4cb0-a464-aef393f01467}">
          <Option type="Map">
            <Option type="QString" value="3x:0,0,0,0,0,0" name="border_width_map_unit_scale"/>
            <Option type="QString" value="243,166,178,255" name="color"/>
            <Option type="QString" value="bevel" name="joinstyle"/>
            <Option type="QString" value="0,0" name="offset"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="offset_map_unit_scale"/>
            <Option type="QString" value="MM" name="offset_unit"/>
            <Option type="QString" value="174,119,127,255" name="outline_color"/>
            <Option type="QString" value="solid" name="outline_style"/>
            <Option type="QString" value="0.2" name="outline_width"/>
            <Option type="QString" value="MM" name="outline_width_unit"/>
            <Option type="QString" value="solid" name="style"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" value="" name="name"/>
              <Option name="properties"/>
              <Option type="QString" value="collection" name="type"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileFillSymbol>
    <profileMarkerSymbol>
      <symbol type="marker" clip_to_extent="1" alpha="1" is_animated="0" force_rhr="0" name="" frame_rate="10">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" value="" name="name"/>
            <Option name="properties"/>
            <Option type="QString" value="collection" name="type"/>
          </Option>
        </data_defined_properties>
        <layer locked="0" pass="0" class="SimpleMarker" enabled="1" id="{ec18cc4e-4b0a-406e-8a00-f58d8647632a}">
          <Option type="Map">
            <Option type="QString" value="0" name="angle"/>
            <Option type="QString" value="square" name="cap_style"/>
            <Option type="QString" value="243,166,178,255" name="color"/>
            <Option type="QString" value="1" name="horizontal_anchor_point"/>
            <Option type="QString" value="bevel" name="joinstyle"/>
            <Option type="QString" value="diamond" name="name"/>
            <Option type="QString" value="0,0" name="offset"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="offset_map_unit_scale"/>
            <Option type="QString" value="MM" name="offset_unit"/>
            <Option type="QString" value="174,119,127,255" name="outline_color"/>
            <Option type="QString" value="solid" name="outline_style"/>
            <Option type="QString" value="0.2" name="outline_width"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="outline_width_map_unit_scale"/>
            <Option type="QString" value="MM" name="outline_width_unit"/>
            <Option type="QString" value="diameter" name="scale_method"/>
            <Option type="QString" value="3" name="size"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="size_map_unit_scale"/>
            <Option type="QString" value="MM" name="size_unit"/>
            <Option type="QString" value="1" name="vertical_anchor_point"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" value="" name="name"/>
              <Option name="properties"/>
              <Option type="QString" value="collection" name="type"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </profileMarkerSymbol>
  </elevation>
  <renderer-v2 referencescale="-1" type="singleSymbol" enableorderby="0" forceraster="0" symbollevels="0">
    <symbols>
      <symbol type="marker" clip_to_extent="1" alpha="1" is_animated="0" force_rhr="0" name="0" frame_rate="10">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" value="" name="name"/>
            <Option name="properties"/>
            <Option type="QString" value="collection" name="type"/>
          </Option>
        </data_defined_properties>
        <layer locked="0" pass="0" class="SimpleMarker" enabled="1" id="{5083b5d5-cefc-4560-8ea1-b6818690e1b2}">
          <Option type="Map">
            <Option type="QString" value="180" name="angle"/>
            <Option type="QString" value="square" name="cap_style"/>
            <Option type="QString" value="113,113,113,255" name="color"/>
            <Option type="QString" value="1" name="horizontal_anchor_point"/>
            <Option type="QString" value="bevel" name="joinstyle"/>
            <Option type="QString" value="triangle" name="name"/>
            <Option type="QString" value="0,0.59999999999999998" name="offset"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="offset_map_unit_scale"/>
            <Option type="QString" value="MM" name="offset_unit"/>
            <Option type="QString" value="35,35,35,255" name="outline_color"/>
            <Option type="QString" value="no" name="outline_style"/>
            <Option type="QString" value="0" name="outline_width"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="outline_width_map_unit_scale"/>
            <Option type="QString" value="MM" name="outline_width_unit"/>
            <Option type="QString" value="diameter" name="scale_method"/>
            <Option type="QString" value="3.6" name="size"/>
            <Option type="QString" value="3x:0,0,0,0,0,0" name="size_map_unit_scale"/>
            <Option type="QString" value="MM" name="size_unit"/>
            <Option type="QString" value="1" name="vertical_anchor_point"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" value="" name="name"/>
              <Option type="Map" name="properties">
                <Option type="Map" name="offset">
                  <Option type="bool" value="true" name="active"/>
                  <Option type="QString" value="'0'|| ',' || tostring(0.166667*(NULL))" name="expression"/>
                  <Option type="int" value="3" name="type"/>
                </Option>
                <Option type="Map" name="size">
                  <Option type="bool" value="false" name="active"/>
                  <Option type="int" value="1" name="type"/>
                  <Option type="QString" value="" name="val"/>
                </Option>
              </Option>
              <Option type="QString" value="collection" name="type"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </symbols>
    <rotation/>
    <sizescale/>
  </renderer-v2>
  <customproperties>
    <Option type="Map">
      <Option type="int" value="0" name="embeddedWidgets/count"/>
      <Option name="variableNames"/>
      <Option name="variableValues"/>
    </Option>
  </customproperties>
  <blendMode>0</blendMode>
  <featureBlendMode>0</featureBlendMode>
  <layerOpacity>1</layerOpacity>
  <SingleCategoryDiagramRenderer attributeLegend="1" diagramType="Histogram">
    <DiagramCategory height="15" penColor="#000000" backgroundAlpha="255" backgroundColor="#ffffff" lineSizeScale="3x:0,0,0,0,0,0" labelPlacementMethod="XHeight" spacing="5" rotationOffset="270" width="15" minimumSize="0" barWidth="5" direction="0" scaleBasedVisibility="0" sizeScale="3x:0,0,0,0,0,0" spacingUnit="MM" showAxis="1" enabled="0" minScaleDenominator="0" sizeType="MM" diagramOrientation="Up" opacity="1" penWidth="0" lineSizeType="MM" maxScaleDenominator="0" penAlpha="255" scaleDependency="Area" spacingUnitScale="3x:0,0,0,0,0,0">
      <fontProperties strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
      <attribute field="" label="" color="#000000" colorOpacity="1"/>
      <axisSymbol>
        <symbol type="line" clip_to_extent="1" alpha="1" is_animated="0" force_rhr="0" name="" frame_rate="10">
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" value="" name="name"/>
              <Option name="properties"/>
              <Option type="QString" value="collection" name="type"/>
            </Option>
          </data_defined_properties>
          <layer locked="0" pass="0" class="SimpleLine" enabled="1" id="{9b85d5a7-5162-47f1-b2c5-8c9ca179e419}">
            <Option type="Map">
              <Option type="QString" value="0" name="align_dash_pattern"/>
              <Option type="QString" value="square" name="capstyle"/>
              <Option type="QString" value="5;2" name="customdash"/>
              <Option type="QString" value="3x:0,0,0,0,0,0" name="customdash_map_unit_scale"/>
              <Option type="QString" value="MM" name="customdash_unit"/>
              <Option type="QString" value="0" name="dash_pattern_offset"/>
              <Option type="QString" value="3x:0,0,0,0,0,0" name="dash_pattern_offset_map_unit_scale"/>
              <Option type="QString" value="MM" name="dash_pattern_offset_unit"/>
              <Option type="QString" value="0" name="draw_inside_polygon"/>
              <Option type="QString" value="bevel" name="joinstyle"/>
              <Option type="QString" value="35,35,35,255" name="line_color"/>
              <Option type="QString" value="solid" name="line_style"/>
              <Option type="QString" value="0.26" name="line_width"/>
              <Option type="QString" value="MM" name="line_width_unit"/>
              <Option type="QString" value="0" name="offset"/>
              <Option type="QString" value="3x:0,0,0,0,0,0" name="offset_map_unit_scale"/>
              <Option type="QString" value="MM" name="offset_unit"/>
              <Option type="QString" value="0" name="ring_filter"/>
              <Option type="QString" value="0" name="trim_distance_end"/>
              <Option type="QString" value="3x:0,0,0,0,0,0" name="trim_distance_end_map_unit_scale"/>
              <Option type="QString" value="MM" name="trim_distance_end_unit"/>
              <Option type="QString" value="0" name="trim_distance_start"/>
              <Option type="QString" value="3x:0,0,0,0,0,0" name="trim_distance_start_map_unit_scale"/>
              <Option type="QString" value="MM" name="trim_distance_start_unit"/>
              <Option type="QString" value="0" name="tweak_dash_pattern_on_corners"/>
              <Option type="QString" value="0" name="use_custom_dash"/>
              <Option type="QString" value="3x:0,0,0,0,0,0" name="width_map_unit_scale"/>
            </Option>
            <data_defined_properties>
              <Option type="Map">
                <Option type="QString" value="" name="name"/>
                <Option name="properties"/>
                <Option type="QString" value="collection" name="type"/>
              </Option>
            </data_defined_properties>
          </layer>
        </symbol>
      </axisSymbol>
    </DiagramCategory>
  </SingleCategoryDiagramRenderer>
  <DiagramLayerSettings zIndex="0" showAll="1" dist="0" placement="0" obstacle="0" linePlacementFlags="18" priority="0">
    <properties>
      <Option type="Map">
        <Option type="QString" value="" name="name"/>
        <Option name="properties"/>
        <Option type="QString" value="collection" name="type"/>
      </Option>
    </properties>
  </DiagramLayerSettings>
  <geometryOptions removeDuplicateNodes="0" geometryPrecision="0">
    <activeChecks/>
    <checkConfiguration/>
  </geometryOptions>
  <legend type="default-vector" showLabelLegend="0"/>
  <referencedLayers/>
  <fieldConfiguration>
    <field configurationFlags="None" name="fid">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" value="false" name="IsMultiline"/>
            <Option type="bool" value="false" name="UseHtml"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Name">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" value="false" name="IsMultiline"/>
            <Option type="bool" value="false" name="UseHtml"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Elevation">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" value="false" name="IsMultiline"/>
            <Option type="bool" value="false" name="UseHtml"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Type">
      <editWidget type="ValueMap">
        <config>
          <Option type="Map">
            <Option type="Map" name="map">
              <Option type="QString" value="FIXED" name="FIXED"/>
              <Option type="QString" value="FREE" name="FREE"/>
              <Option type="QString" value="NORMAL" name="NORMAL"/>
              <Option type="QString" value="TIDAL" name="TIDAL"/>
              <Option type="QString" value="TIMESERIES" name="TIMESERIES"/>
            </Option>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="FixedStage">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" value="false" name="IsMultiline"/>
            <Option type="bool" value="false" name="UseHtml"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Curve_TS">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" value="false" name="IsMultiline"/>
            <Option type="bool" value="false" name="UseHtml"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="FlapGate">
      <editWidget type="ValueMap">
        <config>
          <Option type="Map">
            <Option type="List" name="map">
              <Option type="Map">
                <Option type="QString" value="NO" name="NO"/>
              </Option>
              <Option type="Map">
                <Option type="QString" value="YES" name="YES"/>
              </Option>
            </Option>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="RouteTo">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" value="false" name="IsMultiline"/>
            <Option type="bool" value="false" name="UseHtml"/>
          </Option>
        </config>
      </editWidget>
    </field>
    <field configurationFlags="None" name="Annotation">
      <editWidget type="TextEdit">
        <config>
          <Option type="Map">
            <Option type="bool" value="true" name="IsMultiline"/>
            <Option type="bool" value="false" name="UseHtml"/>
          </Option>
        </config>
      </editWidget>
    </field>
  </fieldConfiguration>
  <aliases>
    <alias field="fid" index="0" name=""/>
    <alias field="Name" index="1" name=""/>
    <alias field="Elevation" index="2" name=""/>
    <alias field="Type" index="3" name=""/>
    <alias field="FixedStage" index="4" name=""/>
    <alias field="Curve_TS" index="5" name=""/>
    <alias field="FlapGate" index="6" name=""/>
    <alias field="RouteTo" index="7" name=""/>
    <alias field="Annotation" index="8" name=""/>
  </aliases>
  <splitPolicies>
    <policy field="fid" policy="Duplicate"/>
    <policy field="Name" policy="Duplicate"/>
    <policy field="Elevation" policy="Duplicate"/>
    <policy field="Type" policy="Duplicate"/>
    <policy field="FixedStage" policy="Duplicate"/>
    <policy field="Curve_TS" policy="Duplicate"/>
    <policy field="FlapGate" policy="Duplicate"/>
    <policy field="RouteTo" policy="Duplicate"/>
    <policy field="Annotation" policy="Duplicate"/>
  </splitPolicies>
  <defaults>
    <default field="fid" applyOnUpdate="0" expression=""/>
    <default field="Name" applyOnUpdate="0" expression=""/>
    <default field="Elevation" applyOnUpdate="0" expression=""/>
    <default field="Type" applyOnUpdate="0" expression=""/>
    <default field="FixedStage" applyOnUpdate="0" expression=""/>
    <default field="Curve_TS" applyOnUpdate="0" expression=""/>
    <default field="FlapGate" applyOnUpdate="0" expression=""/>
    <default field="RouteTo" applyOnUpdate="0" expression=""/>
    <default field="Annotation" applyOnUpdate="0" expression=""/>
  </defaults>
  <constraints>
    <constraint field="fid" exp_strength="0" constraints="3" unique_strength="1" notnull_strength="1"/>
    <constraint field="Name" exp_strength="0" constraints="3" unique_strength="1" notnull_strength="1"/>
    <constraint field="Elevation" exp_strength="0" constraints="0" unique_strength="0" notnull_strength="0"/>
    <constraint field="Type" exp_strength="0" constraints="0" unique_strength="0" notnull_strength="0"/>
    <constraint field="FixedStage" exp_strength="0" constraints="0" unique_strength="0" notnull_strength="0"/>
    <constraint field="Curve_TS" exp_strength="0" constraints="0" unique_strength="0" notnull_strength="0"/>
    <constraint field="FlapGate" exp_strength="0" constraints="0" unique_strength="0" notnull_strength="0"/>
    <constraint field="RouteTo" exp_strength="0" constraints="0" unique_strength="0" notnull_strength="0"/>
    <constraint field="Annotation" exp_strength="0" constraints="0" unique_strength="0" notnull_strength="0"/>
  </constraints>
  <constraintExpressions>
    <constraint field="fid" exp="" desc=""/>
    <constraint field="Name" exp="" desc=""/>
    <constraint field="Elevation" exp="" desc=""/>
    <constraint field="Type" exp="" desc=""/>
    <constraint field="FixedStage" exp="" desc=""/>
    <constraint field="Curve_TS" exp="" desc=""/>
    <constraint field="FlapGate" exp="" desc=""/>
    <constraint field="RouteTo" exp="" desc=""/>
    <constraint field="Annotation" exp="" desc=""/>
  </constraintExpressions>
  <expressionfields/>
  <attributeactions>
    <defaultAction value="{c1a5565f-ccac-4086-a6b2-621ef3e8b795}" key="Canvas"/>
    <actionsetting action="from PyQt5.QtWidgets import (&#xd;&#xa;    QCheckBox,&#xd;&#xa;    QDialog,&#xd;&#xa;    QDialogButtonBox,&#xd;&#xa;    QPushButton,&#xd;&#xa;    QVBoxLayout,&#xd;&#xa;    QTableWidget,&#xd;&#xa;    QTableWidgetItem,&#xd;&#xa;    QLabel,&#xd;&#xa;    QComboBox&#xd;&#xa;)&#xd;&#xa;from PyQt5.QtGui import QColor&#xd;&#xa;from PyQt5.QtCore import Qt&#xd;&#xa;from qgis.core import (&#xd;&#xa;    QgsProject,&#xd;&#xa;    QgsFeature,&#xd;&#xa;    NULL&#xd;&#xa;)&#xd;&#xa;from qgis.PyQt import QtWidgets&#xd;&#xa;from qgis.gui import QgsFileWidget&#xd;&#xa;import pandas as pd&#xd;&#xa;import numpy as np&#xd;&#xa;import os&#xd;&#xa;&#xd;&#xa;swmm_layer = QgsProject.instance().mapLayer('[% @layer_id %]')&#xd;&#xa;#swmm_layer = iface.activeLayer()&#xd;&#xa;feat_names = [f['Name'] for f in swmm_layer.getFeatures()]&#xd;&#xa;layer_geom = swmm_layer.geometryType()&#xd;&#xa;swmm_geom_types = {&#xd;&#xa;    0: 'NODES',&#xd;&#xa;    1: 'LINKS',&#xd;&#xa;    2: 'SUBCATCHMENTS'&#xd;&#xa;}&#xd;&#xa;select_dict = {&#xd;&#xa;    'NODES': {&#xd;&#xa;        'JUNCIONS':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding'&#xd;&#xa;        ],&#xd;&#xa;        'OUTFALLS':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding',&#xd;&#xa;            'outfall_loading'&#xd;&#xa;        ],&#xd;&#xa;        'DIVIDERS':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding'&#xd;&#xa;        ],&#xd;&#xa;        'STORAGE':[&#xd;&#xa;            'node_depth',&#xd;&#xa;            'node_inflow',&#xd;&#xa;            'node_surcharge',&#xd;&#xa;            'node_flooding',&#xd;&#xa;            'storage_volume'&#xd;&#xa;        ]&#xd;&#xa;    },&#xd;&#xa;    'LINKS': {&#xd;&#xa;        'CONDUITS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'flow_classification',&#xd;&#xa;            'conduit_surcharge',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;        'PUMPS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'link_pollutant_load',&#xd;&#xa;            'pumping_summary'&#xd;&#xa;        ],&#xd;&#xa;        'ORIFICES':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'flow_classification',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;        'WEIRS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;        'OUTLETS':[&#xd;&#xa;            'link_flow',&#xd;&#xa;            'link_pollutant_load'&#xd;&#xa;        ],&#xd;&#xa;    },&#xd;&#xa;    'SUBCATCHMENTS':[&#xd;&#xa;        'subcatchment_runoff',&#xd;&#xa;        'subcatchment_washoff'&#xd;&#xa;    ]&#xd;&#xa;}&#xd;&#xa;dict_report_line_sects = {&#xd;&#xa;    'subcatchment_runoff': 'Subcatchment Runoff Summary',&#xd;&#xa;    'subcatchment_washoff': 'Subcatchment Washoff Summary',&#xd;&#xa;    'subcatchment_lid_performance': None,&#xd;&#xa;    'subcatchment_groundwater': None,&#xd;&#xa;    'node_depth': 'Node Depth Summary',&#xd;&#xa;    'node_inflow': 'Node Inflow Summary',&#xd;&#xa;    'node_surcharge': 'Node Surcharge Summary',&#xd;&#xa;    'node_flooding': 'Node Flooding Summary',&#xd;&#xa;    'storage_volume': 'Storage Volume Summary',&#xd;&#xa;    'outfall_loading': 'Outfall Loading Summary',&#xd;&#xa;    'street_flow': 'Street Flow Summary',&#xd;&#xa;    'link_flow': 'Link Flow Summary',&#xd;&#xa;    'flow_classification': 'Flow Classification Summary',&#xd;&#xa;    'conduit_surcharge': 'Conduit Surcharge Summary',&#xd;&#xa;    'pumping_summary': 'Pumping Summary',&#xd;&#xa;    'link_pollutant_load': 'Link Pollutant Load Summary',&#xd;&#xa;}&#xd;&#xa;&#xd;&#xa;def get_header_val(header_lines, h_line, start, length):&#xd;&#xa;    dist_whitespace = 2  # left whitespace in rpt file&#xd;&#xa;    python_adjustment = 1  # in order to have the same vals as in Fresults.pas&#xd;&#xa;    dist_whitespace = dist_whitespace + python_adjustment&#xd;&#xa;    unit_line = header_lines[h_line]&#xd;&#xa;    start = start - dist_whitespace&#xd;&#xa;    end = start + length&#xd;&#xa;    return unit_line[start:end]&#xd;&#xa;    &#xd;&#xa;def get_dict_report_cols(topic, header_lines):&#xd;&#xa;    if topic == 'subcatchment_runoff':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 32, 2)&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 104, 9)&#xd;&#xa;        units_3 = get_header_val(header_lines, 2, 118, 4)&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'TotalPrecipitation'+'_'+units_1,&#xd;&#xa;            'TotalRunon'+'_'+units_1,&#xd;&#xa;            'TotalEvaporation'+'_'+units_1,&#xd;&#xa;            'TotalInfiltration'+'_'+units_1,&#xd;&#xa;            'ImperviousRunoff'+'_'+units_1,&#xd;&#xa;            'PerviousRunoff'+'_'+units_1,&#xd;&#xa;            'TotalRunoff1'+'_'+units_1,&#xd;&#xa;            'TotalRunoff2'+'_'+units_2,&#xd;&#xa;            'PeakRunoff'+'_'+units_3,&#xd;&#xa;            'RunoffCoeffient'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'subcatchment_washoff':&#xd;&#xa;        pol_names = header_lines[0].split()&#xd;&#xa;        pol_units = header_lines[1].split()[1:]&#xd;&#xa;        col_pol = [n+'_'+u for n, u in zip(pol_names, pol_units)]&#xd;&#xa;        cols = ['Name'] + col_pol&#xd;&#xa;    if topic == 'node_depth':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 35, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'AverageDepth'+'_'+units_1,&#xd;&#xa;            'MaximumDepth'+'_'+units_1,&#xd;&#xa;            'MaximumHGL'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'MaxReportedDepth'+'_'+units_1&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'node_inflow':&#xd;&#xa;        units_1 = get_header_val(header_lines, 3, 38, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 3, 68, 8).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'MaximumLateralInflow'+'_'+units_1,&#xd;&#xa;            'MaximumTotalInflow'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'LateralInflowVolume'+'_'+units_2,&#xd;&#xa;            'TotalInflowVolume'+'_'+units_2,&#xd;&#xa;            'FlowBalanceError_Pcnt',&#xd;&#xa;            'flag'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'node_surcharge':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 53, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'Surcharged_Hours',&#xd;&#xa;            'MaxHeightAboveCrown'+'_'+units_1,&#xd;&#xa;            'MinDepthBelowRim'+'_'+units_1&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'node_flooding':&#xd;&#xa;        units_1 = get_header_val(header_lines, 3, 38, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 3, 59, 9).strip()&#xd;&#xa;        units_3 = get_header_val(header_lines, 3, 69, 9).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Flooded_Hours',&#xd;&#xa;            'MaximumRate'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'TotalFloodVolume'+'_'+units_2,&#xd;&#xa;            'MaximumPondedDepth'+'_'+units_3&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'storage_volume':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 25, 9).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 93, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'AverageVolume'+'_'+units_1,&#xd;&#xa;            'AvgFull_Pcnt',&#xd;&#xa;            'EvapLoss_Pcnt',&#xd;&#xa;            'ExfilLoss_Pcnt',&#xd;&#xa;            'MaximumVolume'+'_'+units_1,&#xd;&#xa;            'MaxFull_Pcnt',&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'MaximumOutflow'+'_'+units_2&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'outfall_loading':&#xd;&#xa;        head_tokens = header_lines[1].split()&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 36, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 54, 9).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'FlowFreq_Pcnt',&#xd;&#xa;            'AvgFlow'+'_'+units_1,&#xd;&#xa;            'MaxFlow'+'_'+units_1,&#xd;&#xa;            'TotalVolume'+'_'+units_2&#xd;&#xa;        ]&#xd;&#xa;        if len(head_tokens) > 4:&#xd;&#xa;            header_unit_line = header_lines[2][60:]&#xd;&#xa;            header_unit_line = header_unit_line.strip()&#xd;&#xa;            pol_names = head_tokens[4:]&#xd;&#xa;            pol_units = header_unit_line.split()&#xd;&#xa;            col_pol = ['Total'+n+'_'+u for n, u in zip(pol_names, pol_units)]&#xd;&#xa;            cols = cols + col_pol&#xd;&#xa;    if topic == 'street_flow':&#xd;&#xa;        units_1 = get_header_val(header_lines, 3, 25, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 3, 37, 2).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'PeakFlow'+'_'+units_1,&#xd;&#xa;            'MaximumSpread'+'_'+units_2,&#xd;&#xa;            'MaximumDepth'+'_'+units_2,&#xd;&#xa;            'InletDesing',&#xd;&#xa;            'InletLocation',&#xd;&#xa;            'Inlet',&#xd;&#xa;            'PeakFlowCapture_Pcnt',&#xd;&#xa;            'AverageFlowCapture_Pcnt',&#xd;&#xa;            'BypassFlowFrequnecy_Pcnt',&#xd;&#xa;            'BackFlowFrequnecy_Pcnt',&#xd;&#xa;            'PeakCaptureInlet'+'_'+units_1,&#xd;&#xa;            'PeakBypassFlow'+'_'+units_1,&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'link_flow':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 38, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 58, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Type',&#xd;&#xa;            'MaximumFlow'+'_'+units_1,&#xd;&#xa;            'TimeOfMaxOccurrence_Days',&#xd;&#xa;            'TimeOfMaxOccurrence_HoursMin',&#xd;&#xa;            'MaximumVeloc'+'_'+units_2,&#xd;&#xa;            'MaxFullFlow',&#xd;&#xa;            'MaxFullDepth'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'flow_classification': &#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'AdjustedActualLength',&#xd;&#xa;            'FractionOfTimeDry',&#xd;&#xa;            'FractionOfTimeUpDry',&#xd;&#xa;            'FractionOfTimeDownDry',&#xd;&#xa;            'FractionOfTimeSubCrit',&#xd;&#xa;            'FractionOfTimeSupCrit',&#xd;&#xa;            'FractionOfTimeUpCrit',&#xd;&#xa;            'FractionOfTimeDownCrit',&#xd;&#xa;            'FractionOfTimeNormLtd',&#xd;&#xa;            'FractionOfTimeInletCtrl'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'conduit_surcharge': &#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'FullBothEnds_Hours',&#xd;&#xa;            'FullUpstream_Hours',&#xd;&#xa;            'FullDownstream_Hours',&#xd;&#xa;            'AboveFullNormalFlow_Hours',&#xd;&#xa;            'CapacityLimited_Hours',&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'pumping_summary':&#xd;&#xa;        units_1 = get_header_val(header_lines, 2, 51, 4).strip()&#xd;&#xa;        units_2 = get_header_val(header_lines, 2, 76, 9).strip()&#xd;&#xa;        units_3 = get_header_val(header_lines, 2, 89, 6).strip()&#xd;&#xa;        cols = [&#xd;&#xa;            'Name',&#xd;&#xa;            'Utilized_Pcnt',&#xd;&#xa;            'NumberOfStartups',&#xd;&#xa;            'MinFlow'+'_'+units_1,&#xd;&#xa;            'AverageFlow'+'_'+units_1,&#xd;&#xa;            'MaxFlow'+'_'+units_1,&#xd;&#xa;            'TotalVolume'+'_'+units_2,&#xd;&#xa;            'PowerUsage'+'_'+units_3,&#xd;&#xa;            'TimeBelowPumpCurve_Pcnt',&#xd;&#xa;            'TimeAbovePumpCurve_Pcnt'&#xd;&#xa;        ]&#xd;&#xa;    if topic == 'link_pollutant_load': &#xd;&#xa;        pol_names = header_lines[0].split()&#xd;&#xa;        pol_units = header_lines[1].split()[1:]&#xd;&#xa;        col_pol = [n+'_'+u for n, u in zip(pol_names, pol_units)]&#xd;&#xa;        cols = ['Name'] + col_pol&#xd;&#xa;    return cols&#xd;&#xa;&#xd;&#xa;def build_df_from_vals_list(section_vals, col_names):&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    builds a dataframe for a section; &#xd;&#xa;    missing vals at the end are set as np.nan&#xd;&#xa;    :param list section_vals&#xd;&#xa;    :param list col_names&#xd;&#xa;    :return: pd.DataFrame&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    df = pd.DataFrame(section_vals)&#xd;&#xa;    col_len = len(df.columns)&#xd;&#xa;    if col_names is None:&#xd;&#xa;        pass&#xd;&#xa;    else:&#xd;&#xa;        df.columns = col_names[0:col_len]&#xd;&#xa;        if len(col_names) > col_len:  # if missing vals in inp-data&#xd;&#xa;            for i in col_names[col_len:]:&#xd;&#xa;                df[i] = np.nan&#xd;&#xa;    return df&#xd;&#xa;    &#xd;&#xa;def find_rpt_section_position(i, rpt_line, rpt_text):&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    finds report sections in a list of text lines&#xd;&#xa;    :param int i: index of the current text line&#xd;&#xa;    :param str rpt_line: current text line&#xd;&#xa;    :param list rpt_text&#xd;&#xa;    &quot;&quot;&quot;&#xd;&#xa;    line_list = rpt_line.split()&#xd;&#xa;    if i &lt;= (len(rpt_text)-2):&#xd;&#xa;        if line_list[0].startswith('**') and line_list[0].endswith('**'):&#xd;&#xa;            line_list_2 = rpt_text[i+2].split()&#xd;&#xa;            if line_list_2[0].startswith('**') and line_list_2[0].endswith('**'):&#xd;&#xa;                return (i+1)&#xd;&#xa;            else:&#xd;&#xa;                return 'NA'&#xd;&#xa;        else:&#xd;&#xa;            return 'NA'&#xd;&#xa;    else:&#xd;&#xa;        return 'NA'&#xd;&#xa;&#xd;&#xa;def get_rpt_df(topic, readfile):&#xd;&#xa;    rpt_section_title = dict_report_line_sects[topic]&#xd;&#xa;    rpt_text = get_rpt_txt(readfile)&#xd;&#xa;    if rpt_section_title in rpt_text:&#xd;&#xa;        startpos = rpt_text.index(rpt_section_title)&#xd;&#xa;        rpt_text_trimmed = rpt_text[startpos:]&#xd;&#xa;        separation_lines_0 = [i for i, l in enumerate(rpt_text_trimmed) if l.startswith('**') and l.endswith('**')]&#xd;&#xa;        if len(separation_lines_0) != 1:&#xd;&#xa;            #last item&#xd;&#xa;            endpos = separation_lines_0[1]&#xd;&#xa;            sect_lines = rpt_text_trimmed[:endpos]&#xd;&#xa;        else:&#xd;&#xa;            sect_lines = rpt_text_trimmed&#xd;&#xa;        separation_lines = [i for i, l in enumerate(sect_lines) if l.startswith('--') and l.endswith('--')]&#xd;&#xa;        if len(separation_lines) == 2:&#xd;&#xa;            # without Summary&#xd;&#xa;            separation_lines = separation_lines+[len(sect_lines)]&#xd;&#xa;        sect_lines_vals = sect_lines[(separation_lines[1]+1):separation_lines[2]]&#xd;&#xa;        sect_lines_vals = [x.split() for x in sect_lines_vals]&#xd;&#xa;        header_lines = sect_lines[(separation_lines[0]+1):separation_lines[1]]&#xd;&#xa;        col_names = get_dict_report_cols(topic, header_lines)&#xd;&#xa;        df = build_df_from_vals_list(&#xd;&#xa;            sect_lines_vals,&#xd;&#xa;            col_names&#xd;&#xa;        )&#xd;&#xa;        return df&#xd;&#xa;    else:&#xd;&#xa;        return(pd.DataFrame())&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;def get_rpt_txt(readfile):&#xd;&#xa;    # open file with different encodings&#xd;&#xa;    encodings = [&#xd;&#xa;        'utf-8',&#xd;&#xa;        'windows-1250',&#xd;&#xa;        'windows-1252'&#xd;&#xa;    ]  # add more?&#xd;&#xa;    for e in encodings:&#xd;&#xa;        try:&#xd;&#xa;            with open(readfile, 'r', encoding=e) as f:&#xd;&#xa;                rpt_text = f.readlines()&#xd;&#xa;        except UnicodeDecodeError:&#xd;&#xa;            pass&#xd;&#xa;        else:&#xd;&#xa;            break&#xd;&#xa;    rpt_text = [x for x in rpt_text if x != '\n']&#xd;&#xa;    rpt_text = [x for x in rpt_text if x != '\r']&#xd;&#xa;    rpt_text = [x.strip() for x in rpt_text]&#xd;&#xa;    rpt_text = [x for x in rpt_text if len(x)>0]&#xd;&#xa;    # delete last three lines of the file (information on start and end time)&#xd;&#xa;    rpt_text = rpt_text[:-3]&#xd;&#xa;    return rpt_text&#xd;&#xa;&#xd;&#xa;# third dialog&#xd;&#xa;class saveCsvDialog(QDialog):&#xd;&#xa;    def __init__(self, parent):&#xd;&#xa;        QDialog.__init__(self, parent)&#xd;&#xa;        self.setWindowTitle('Save table section as CSV')&#xd;&#xa;        self.df = parent.df&#xd;&#xa;        self.topic = parent.topic&#xd;&#xa;        self.layout = QVBoxLayout()&#xd;&#xa;&#xd;&#xa;        # path&#xd;&#xa;        self.label_CsvFile = QLabel('Resulting CSV file')&#xd;&#xa;        self.layout.addWidget(self.label_CsvFile)&#xd;&#xa;        self.CsvFile = QgsFileWidget()&#xd;&#xa;        self.CsvFile.setFilter('CSV files (*.csv)')&#xd;&#xa;        self.CsvFile.setStorageMode(3)&#xd;&#xa;        self.layout.addWidget(self.CsvFile)&#xd;&#xa;&#xd;&#xa;        # checkbox&#xd;&#xa;        self.addcheckbox = QCheckBox('add resulting CSV file to Project')&#xd;&#xa;        self.addcheckbox.setChecked(True)&#xd;&#xa;&#xd;&#xa;        # OK/Cancel-Buttons&#xd;&#xa;        btn2 = QDialogButtonBox.Ok | QDialogButtonBox.Cancel&#xd;&#xa;        self.buttonBox = QDialogButtonBox(btn2)&#xd;&#xa;        self.buttonBox.accepted.connect(self.save_csv_action)&#xd;&#xa;        self.buttonBox.rejected.connect(self.close)&#xd;&#xa;&#xd;&#xa;        self.layout.addWidget(self.addcheckbox)&#xd;&#xa;        self.layout.addWidget(self.buttonBox)&#xd;&#xa;        self.setLayout(self.layout)&#xd;&#xa;&#xd;&#xa;    def closeaction(self):&#xd;&#xa;        self.close()&#xd;&#xa;&#xd;&#xa;    def save_csv_action(self):&#xd;&#xa;        csvpath = self.CsvFile.filePath()&#xd;&#xa;        if csvpath=='':&#xd;&#xa;            QtWidgets.QMessageBox.information(&#xd;&#xa;                None,&#xd;&#xa;                &quot;Warning&quot;,&#xd;&#xa;                'Resulting CSV file can`t be empty. Please select a file'&#xd;&#xa;            )&#xd;&#xa;        else:&#xd;&#xa;            self.df.to_csv(csvpath, index=False)&#xd;&#xa;            self.add_to_project = self.addcheckbox.isChecked()&#xd;&#xa;            if self.add_to_project:&#xd;&#xa;                showname = self.topic+' ('+os.path.split(csvpath)[1]+')'&#xd;&#xa;                csv_layer = QgsVectorLayer(csvpath, showname , 'ogr')&#xd;&#xa;                QgsProject.instance().addMapLayer(csv_layer)&#xd;&#xa;            QtWidgets.QMessageBox.information(&#xd;&#xa;                None,&#xd;&#xa;                &quot;Info&quot;,&#xd;&#xa;                'Report data was saved in '+ csvpath&#xd;&#xa;            )&#xd;&#xa;            self.closeaction()&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;# second dialog&#xd;&#xa;class showTableDialog(QDialog):&#xd;&#xa;    def __init__(self, parent):&#xd;&#xa;        QDialog.__init__(self, parent)&#xd;&#xa;        self.topic = parent.topic&#xd;&#xa;        self.setWindowTitle(self.topic)&#xd;&#xa;        self.df = parent.df&#xd;&#xa;        self.layout = QVBoxLayout()&#xd;&#xa;        self.tableWidget = QTableWidget()&#xd;&#xa;        self.tableWidget.setColumnCount(&#xd;&#xa;            len(self.df.columns)&#xd;&#xa;        )&#xd;&#xa;        self.tableWidget.setRowCount(&#xd;&#xa;            len(self.df.index)&#xd;&#xa;        )&#xd;&#xa;        self.tableWidget.setSortingEnabled(True)&#xd;&#xa;        if any([x in feat_names for x in self.df['Name']]):&#xd;&#xa;            self.infotext = QLabel(&#xd;&#xa;                'Features of the current layer are highlighted in yellow'&#xd;&#xa;            )&#xd;&#xa;        else:&#xd;&#xa;            self.infotext = QLabel(&#xd;&#xa;                'No features of current layer were found in this report section!'&#xd;&#xa;            )&#xd;&#xa;        self.layout.addWidget(self.infotext)&#xd;&#xa;        for i in self.df.index:&#xd;&#xa;            val0 = self.df['Name'][i]&#xd;&#xa;            for j, col in enumerate(self.df.columns):&#xd;&#xa;                val = self.df[col][i]&#xd;&#xa;                item1 = QTableWidgetItem(str(val))&#xd;&#xa;                item1.setFlags(Qt.ItemIsEditable)&#xd;&#xa;                if val0 in feat_names:&#xd;&#xa;                    item1.setBackground(QColor('yellow'))&#xd;&#xa;                self.tableWidget.setItem(i, j, item1)&#xd;&#xa;        self.tableWidget.setHorizontalHeaderLabels(&#xd;&#xa;            list(self.df.columns)&#xd;&#xa;        )&#xd;&#xa;&#xd;&#xa;        # button to save csv&#xd;&#xa;        self.button_save = QPushButton('Close and save table as CSV')&#xd;&#xa;        self.button_save.clicked.connect(self.open_save_csv)&#xd;&#xa;        self.layout.addWidget(self.button_save)&#xd;&#xa;        self.layout.addWidget(self.tableWidget)&#xd;&#xa;        self.setLayout(self.layout)&#xd;&#xa;&#xd;&#xa;    def open_save_csv(self):&#xd;&#xa;        self.w3 = saveCsvDialog(self)&#xd;&#xa;        self.w3.show()&#xd;&#xa;        self.close()&#xd;&#xa;&#xd;&#xa;# main dialog&#xd;&#xa;class joinSwmmReportDialog(QDialog):&#xd;&#xa;    def __init__(self, parent=None):&#xd;&#xa;        &quot;&quot;&quot;Constructor.&quot;&quot;&quot;&#xd;&#xa;        super(joinSwmmReportDialog, self).__init__(parent)&#xd;&#xa;        # Drop-down-Listen und Labels&#xd;&#xa;        QDialog.__init__(self, parent)&#xd;&#xa;        self.layout = QVBoxLayout()&#xd;&#xa;        self.setWindowTitle('Get results from SWMM report file')&#xd;&#xa;&#xd;&#xa;        # swmm rpt file&#xd;&#xa;        self.label_SwmmRptFile = QLabel('SWMM report File')&#xd;&#xa;        self.swmmRptFile = QgsFileWidget() #rpt&#xd;&#xa;        self.swmmRptFile.setFilter('SWMM report files (*.rpt)')&#xd;&#xa;        self.layout.addWidget(self.label_SwmmRptFile)&#xd;&#xa;        self.layout.addWidget(self.swmmRptFile)&#xd;&#xa;        &#xd;&#xa;        if swmm_type in ['NODES','LINKS']:&#xd;&#xa;            #swmm obj type&#xd;&#xa;            self.label_swmmobj_selBox = QLabel('SWMM layer type')&#xd;&#xa;            self.swmmobj_selBox = QComboBox()&#xd;&#xa;            self.swmmobj_list = list(select_dict[swmm_type].keys())&#xd;&#xa;            self.swmmobj_selBox.addItems(self.swmmobj_list)&#xd;&#xa;            self.swmmobj_selBox.setCurrentIndex(0)&#xd;&#xa;            self.swmm_obj = self.swmmobj_selBox.currentText()&#xd;&#xa;            self.swmmobj_selBox.currentIndexChanged.connect(self.update_topic_box)&#xd;&#xa;            self.layout.addWidget(self.label_swmmobj_selBox)&#xd;&#xa;            self.layout.addWidget(self.swmmobj_selBox)&#xd;&#xa;&#xd;&#xa;            &#xd;&#xa;            self.label_topic_selBox = QLabel('SWMM report topic')&#xd;&#xa;            self.topic_selBox = QComboBox()&#xd;&#xa;            self.topic_list = list(select_dict[swmm_type][self.swmm_obj])&#xd;&#xa;            self.topic_selBox.addItems(self.topic_list)&#xd;&#xa;            self.topic_selBox.setCurrentIndex(0)&#xd;&#xa;            self.layout.addWidget(self.label_topic_selBox)&#xd;&#xa;            self.layout.addWidget(self.topic_selBox)&#xd;&#xa;        elif swmm_type == 'SUBCATCHMENTS':&#xd;&#xa;            self.label_topic_selBox = QLabel('SWMM report topic')&#xd;&#xa;            self.topic_selBox = QComboBox()&#xd;&#xa;            self.topic_list = list(select_dict[swmm_type])&#xd;&#xa;            self.topic_selBox.addItems(self.topic_list)&#xd;&#xa;            self.topic_selBox.setCurrentIndex(0)&#xd;&#xa;            self.layout.addWidget(self.label_topic_selBox)&#xd;&#xa;            self.layout.addWidget(self.topic_selBox)&#xd;&#xa;        else:&#xd;&#xa;            QtWidgets.QMessageBox.information(&#xd;&#xa;                None,&#xd;&#xa;                &quot;Warning&quot;,&#xd;&#xa;                'No suitable data can be accessed'&#xd;&#xa;            )&#xd;&#xa;            self.close()&#xd;&#xa;        &#xd;&#xa;        # OK/Cancel-Buttons&#xd;&#xa;        btn = QDialogButtonBox.Ok | QDialogButtonBox.Cancel&#xd;&#xa;        self.buttonBox = QDialogButtonBox(btn)&#xd;&#xa;        self.buttonBox.accepted.connect(self.join_report_vals)&#xd;&#xa;        self.buttonBox.rejected.connect(self.close)&#xd;&#xa;        self.buttonBox.clicked.connect(self.close)&#xd;&#xa;        self.layout.addWidget(self.buttonBox)&#xd;&#xa;        self.setLayout(self.layout)&#xd;&#xa;&#xd;&#xa;    def update_topic_box(self):&#xd;&#xa;        self.topic_selBox.clear()&#xd;&#xa;        self.swmm_obj = self.swmmobj_selBox.currentText()&#xd;&#xa;        self.topic_list_neu = list(select_dict[swmm_type][self.swmm_obj])&#xd;&#xa;        self.topic_selBox.addItems(self.topic_list_neu)&#xd;&#xa;        self.topic_selBox.setCurrentIndex(0)&#xd;&#xa;    &#xd;&#xa;    def join_report_vals(self):&#xd;&#xa;        self.topic = self.topic_selBox.currentText()&#xd;&#xa;        readfile = self.swmmRptFile.filePath()&#xd;&#xa;        if readfile=='':&#xd;&#xa;            QtWidgets.QMessageBox.information(&#xd;&#xa;                None,&#xd;&#xa;                &quot;Warning&quot;,&#xd;&#xa;                'SWMM report file can`t be empty. Please select a file'&#xd;&#xa;            )&#xd;&#xa;            w.show()&#xd;&#xa;        else:&#xd;&#xa;            self.df = get_rpt_df(self.topic, readfile)&#xd;&#xa;            if len(self.df) == 0:&#xd;&#xa;                QtWidgets.QMessageBox.information(&#xd;&#xa;                None,&#xd;&#xa;                &quot;Warning&quot;,&#xd;&#xa;                'This report section is not available in the chosen report file. Please select another report file or topic'&#xd;&#xa;                )&#xd;&#xa;                w.show()&#xd;&#xa;            else:&#xd;&#xa;                w2 = showTableDialog(self)&#xd;&#xa;                w2.show()&#xd;&#xa;&#xd;&#xa;if layer_geom in swmm_geom_types.keys():&#xd;&#xa;    swmm_type = swmm_geom_types[layer_geom]&#xd;&#xa;    w = joinSwmmReportDialog()&#xd;&#xa;    w.show()&#xd;&#xa;else:&#xd;&#xa;    QtWidgets.QMessageBox.information(None,&quot;Info&quot;, 'Cannot show results for this data type')" type="1" notificationMessage="" shortTitle="Get results from report file" icon="" isEnabledOnlyWhenEditable="0" id="{c1a5565f-ccac-4086-a6b2-621ef3e8b795}" name="get_report" capture="0">
      <actionScope id="Canvas"/>
      <actionScope id="Form"/>
      <actionScope id="Layer"/>
    </actionsetting>
  </attributeactions>
  <attributetableconfig sortOrder="0" sortExpression="" actionWidgetStyle="dropDown">
    <columns>
      <column type="field" hidden="0" width="-1" name="fid"/>
      <column type="field" hidden="0" width="-1" name="Name"/>
      <column type="field" hidden="0" width="-1" name="Elevation"/>
      <column type="field" hidden="0" width="-1" name="Type"/>
      <column type="field" hidden="0" width="-1" name="FixedStage"/>
      <column type="field" hidden="0" width="-1" name="Curve_TS"/>
      <column type="field" hidden="0" width="-1" name="FlapGate"/>
      <column type="field" hidden="0" width="-1" name="RouteTo"/>
      <column type="field" hidden="0" width="-1" name="Annotation"/>
      <column type="actions" hidden="1" width="-1"/>
    </columns>
  </attributetableconfig>
  <conditionalstyles>
    <rowstyles/>
    <fieldstyles/>
  </conditionalstyles>
  <storedexpressions/>
  <editform tolerant="1"></editform>
  <editforminit/>
  <editforminitcodesource>0</editforminitcodesource>
  <editforminitfilepath></editforminitfilepath>
  <editforminitcode><![CDATA[# -*- coding: utf-8 -*-
"""
QGIS forms can have a Python function that is called when the form is
opened.

Use this function to add extra logic to your forms.

Enter the name of the function in the "Python Init function"
field.
An example follows:
"""
from qgis.PyQt.QtWidgets import QWidget

def my_form_open(dialog, layer, feature):
	geom = feature.geometry()
	control = dialog.findChild(QWidget, "MyLineEdit")
]]></editforminitcode>
  <featformsuppress>0</featformsuppress>
  <editorlayout>tablayout</editorlayout>
  <attributeEditorForm>
    <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
      <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
    </labelStyle>
    <attributeEditorContainer visibilityExpression="" columnCount="1" type="Tab" collapsedExpression="" verticalStretch="0" collapsed="0" horizontalStretch="0" collapsedExpressionEnabled="0" visibilityExpressionEnabled="0" showLabel="1" name="General" groupBox="0">
      <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
        <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
      </labelStyle>
      <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="Name" index="1">
        <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
          <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="Elevation" index="2">
        <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
          <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="FlapGate" index="6">
        <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
          <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="RouteTo" index="7">
        <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
          <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="Type" index="3">
        <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
          <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
        </labelStyle>
      </attributeEditorField>
      <attributeEditorContainer visibilityExpression=" &quot;Type&quot; in ('TIDAL','TIMESERIES')" columnCount="1" type="GroupBox" collapsedExpression="" verticalStretch="0" collapsed="0" horizontalStretch="0" collapsedExpressionEnabled="0" visibilityExpressionEnabled="1" showLabel="0" name="Tidal or Timeseries" groupBox="1">
        <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
          <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
        </labelStyle>
        <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="Curve_TS" index="5">
          <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
            <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
          </labelStyle>
        </attributeEditorField>
      </attributeEditorContainer>
      <attributeEditorContainer visibilityExpression=" &quot;Type&quot; = 'FIXED'" columnCount="1" type="GroupBox" collapsedExpression="" verticalStretch="0" collapsed="0" horizontalStretch="0" collapsedExpressionEnabled="0" visibilityExpressionEnabled="1" showLabel="0" name="Fixed" groupBox="1">
        <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
          <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
        </labelStyle>
        <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="FixedStage" index="4">
          <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
            <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
          </labelStyle>
        </attributeEditorField>
      </attributeEditorContainer>
    </attributeEditorContainer>
    <attributeEditorAction verticalStretch="0" horizontalStretch="0" showLabel="1" name="{c1a5565f-ccac-4086-a6b2-621ef3e8b795}" ActionUUID="{c1a5565f-ccac-4086-a6b2-621ef3e8b795}">
      <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
        <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
      </labelStyle>
    </attributeEditorAction>
    <attributeEditorField verticalStretch="0" horizontalStretch="0" showLabel="1" name="Annotation" index="8">
      <labelStyle labelColor="0,0,0,255" overrideLabelColor="0" overrideLabelFont="0">
        <labelFont strikethrough="0" description="MS Shell Dlg 2,8,-1,5,50,0,0,0,0,0" italic="0" bold="0" style="" underline="0"/>
      </labelStyle>
    </attributeEditorField>
  </attributeEditorForm>
  <editable>
    <field editable="1" name="Annotation"/>
    <field editable="1" name="Curve_TS"/>
    <field editable="1" name="Elevation"/>
    <field editable="1" name="FixedStage"/>
    <field editable="1" name="FlapGate"/>
    <field editable="1" name="Name"/>
    <field editable="1" name="RouteTo"/>
    <field editable="1" name="Type"/>
    <field editable="1" name="fid"/>
  </editable>
  <labelOnTop>
    <field labelOnTop="0" name="Annotation"/>
    <field labelOnTop="0" name="Curve_TS"/>
    <field labelOnTop="0" name="Elevation"/>
    <field labelOnTop="0" name="FixedStage"/>
    <field labelOnTop="0" name="FlapGate"/>
    <field labelOnTop="0" name="Name"/>
    <field labelOnTop="0" name="RouteTo"/>
    <field labelOnTop="0" name="Type"/>
    <field labelOnTop="0" name="fid"/>
  </labelOnTop>
  <reuseLastValue>
    <field reuseLastValue="0" name="Annotation"/>
    <field reuseLastValue="0" name="Curve_TS"/>
    <field reuseLastValue="0" name="Elevation"/>
    <field reuseLastValue="0" name="FixedStage"/>
    <field reuseLastValue="0" name="FlapGate"/>
    <field reuseLastValue="0" name="Name"/>
    <field reuseLastValue="0" name="RouteTo"/>
    <field reuseLastValue="0" name="Type"/>
    <field reuseLastValue="0" name="fid"/>
  </reuseLastValue>
  <dataDefinedFieldProperties/>
  <widgets/>
  <previewExpression>"Name"</previewExpression>
  <mapTip enabled="1"></mapTip>
  <layerGeometryType>0</layerGeometryType>
</qgis>
